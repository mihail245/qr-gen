<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏ —Å–∫–∞–Ω–µ—Ä QR-–∫–æ–¥–æ–≤</title>
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
    <style>
        :root {
            --primary-color: #4285f4;
            --secondary-color: #34a853;
            --accent-color: #ea4335;
            --light-color: #f8f9fa;
            --dark-color: #202124;
            --gray-color: #5f6368;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-color);
            color: var(--dark-color);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            transition: var(--transition);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--gray-color);
            margin-bottom: 20px;
        }

        .app-description {
            max-width: 800px;
            margin: 0 auto 30px;
            text-align: center;
            color: var(--gray-color);
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .tab {
            padding: 12px 24px;
            cursor: pointer;
            font-weight: 600;
            color: var(--gray-color);
            transition: var(--transition);
            border-bottom: 3px solid transparent;
        }

        .tab.active {
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
        }

        .tab:hover:not(.active) {
            color: var(--dark-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--dark-color);
            text-align: center;
        }

        .card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            margin-bottom: 30px;
            transition: var(--transition);
        }

        .card:hover {
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-color);
        }

        input, textarea, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        input:focus, textarea:focus, select:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 133, 244, 0.2);
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .btn:hover {
            background-color: #3367d6;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: var(--secondary-color);
        }

        .btn-secondary:hover {
            background-color: #2d9249;
        }

        .btn-danger {
            background-color: var(--accent-color);
        }

        .btn-danger:hover {
            background-color: #d33426;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .qr-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 30px;
        }

        #qrcode {
            margin: 20px 0;
            padding: 20px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .qr-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .scanner-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }

        #scanner-video {
            width: 100%;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            background-color: #000;
        }

        #scanner-canvas {
            display: none;
        }

        .scanner-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            border: 2px solid var(--primary-color);
            border-radius: var(--border-radius);
            box-sizing: border-box;
        }

        .scanner-result {
            margin-top: 20px;
            padding: 15px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            word-break: break-all;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .option-item {
            background-color: white;
            padding: 15px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .option-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark-color);
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .color-picker input[type="color"] {
            width: 50px;
            height: 40px;
            padding: 2px;
            cursor: pointer;
        }

        .history-list {
            list-style: none;
        }

        .history-item {
            padding: 15px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .history-content {
            flex: 1;
            margin-right: 15px;
            word-break: break-all;
        }

        .history-actions {
            display: flex;
            gap: 5px;
        }

        .history-btn {
            padding: 5px 10px;
            background-color: #f1f3f4;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .history-btn:hover {
            background-color: #e0e0e0;
        }

        .history-date {
            font-size: 0.8rem;
            color: var(--gray-color);
            margin-top: 5px;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray-color);
        }

        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #dadce0;
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            color: var(--gray-color);
        }

        @media (max-width: 768px) {
            .options-grid {
                grid-template-columns: 1fr;
            }

            .btn-group {
                flex-direction: column;
            }

            .qr-actions, .history-actions {
                flex-direction: column;
                gap: 5px;
            }
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: pointer;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--dark-color);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9rem;
            font-weight: normal;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--primary-color);
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            overflow: auto;
        }

        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            max-width: 500px;
            width: 90%;
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5rem;
            color: var(--dark-color);
        }

        .close-modal {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--gray-color);
            cursor: pointer;
            transition: var(--transition);
        }

        .close-modal:hover {
            color: var(--dark-color);
        }

        .modal-body {
            margin-bottom: 20px;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –≤–∫–ª–∞–¥–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ */
        .settings-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }

        .settings-tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: var(--transition);
        }

        .settings-tab.active {
            border-bottom: 3px solid var(--primary-color);
            color: var(--primary-color);
        }

        .settings-content {
            display: none;
        }

        .settings-content.active {
            display: block;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary-color);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .switch-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .switch-label {
            font-weight: normal;
            color: var(--dark-color);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ */
        .range-container {
            margin-bottom: 15px;
        }

        .range-label {
            display: block;
            margin-bottom: 5px;
        }

        .range-input {
            width: 100%;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 4px;
            background: #ddd;
            outline: none;
        }

        .range-input::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
        }

        .range-input::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
        }

        .range-value {
            display: inline-block;
            margin-left: 10px;
            font-weight: bold;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –∏—Å—Ç–æ—Ä–∏–∏ */
        .history-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .history-table th, .history-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .history-table th {
            background-color: #f1f3f4;
            font-weight: 600;
            color: var(--dark-color);
        }

        .history-table tr:hover {
            background-color: #f8f9fa;
        }

        .table-actions {
            display: flex;
            gap: 5px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background-color: var(--primary-color);
            color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            transform: translateX(150%);
            transition: transform 0.3s ease;
            z-index: 1000;
            max-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background-color: var(--secondary-color);
        }

        .notification.error {
            background-color: var(--accent-color);
        }

        .notification-warning {
            background-color: #fbbc05;
        }

        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ */
        .divider {
            height: 1px;
            background-color: rgba(0, 0, 0, 0.1);
            margin: 20px 0;
        }

        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            background-color: var(--primary-color);
            color: white;
        }

        .badge.secondary {
            background-color: var(--secondary-color);
        }

        .badge.accent {
            background-color: var(--accent-color);
        }

        .badge.gray {
            background-color: var(--gray-color);
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã */
        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1rem;
            }

            .card {
                padding: 20px 15px;
            }

            .tabs {
                flex-wrap: wrap;
            }

            .tab {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }

        /* –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ QR */
        .qr-preview-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 300px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 20px;
            position: relative;
        }

        .qr-preview-placeholder {
            text-align: center;
            color: var(--gray-color);
            padding: 40px;
        }

        .qr-size-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .qr-size-input {
            width: 80px;
            text-align: center;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫–∞–Ω–µ—Ä–∞ QR */
        .scanner-instructions {
            background-color: #e8f0fe;
            color: var(--primary-color);
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        .scanner-status {
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--gray-color);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .info-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
        }

        .info-card-title {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-card-icon {
            font-size: 1.5rem;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
        .dark-theme {
            background-color: #121212;
            color: #e0e0e0;
        }

        .dark-theme .card,
        .dark-theme .option-item,
        .dark-theme .history-item,
        .dark-theme .scanner-result,
        .dark-theme .modal-content,
        .dark-theme .info-card,
        .dark-theme .qr-preview-container,
        .dark-theme #qrcode {
            background-color: #1e1e1e;
            color: #e0e0e0;
        }

        .dark-theme input,
        .dark-theme textarea,
        .dark-theme select {
            background-color: #2d2d2d;
            border-color: #444;
            color: #e0e0e0;
        }

        .dark-theme label,
        .dark-theme .option-title,
        .dark-theme .modal-title,
        .dark-theme .section-title,
        .dark-theme .switch-label,
        .dark-theme .range-label {
            color: #e0e0e0;
        }

        .dark-theme .history-table th {
            background-color: #2d2d2d;
            color: #e0e0e0;
        }

        .dark-theme .history-table tr:hover {
            background-color: #2d2d2d;
        }

        .dark-theme .divider {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .dark-theme header,
        .dark-theme footer {
            border-color: rgba(255, 255, 255, 0.1);
        }

        .dark-theme .tabs,
        .dark-theme .settings-tabs {
            border-color: rgba(255, 255, 255, 0.1);
        }

        .dark-theme .tab {
            color: #9e9e9e;
        }

        .dark-theme .tab:hover:not(.active) {
            color: #e0e0e0;
        }

        .dark-theme .history-btn {
            background-color: #2d2d2d;
            color: #e0e0e0;
        }

        .dark-theme .history-btn:hover {
            background-color: #3d3d3d;
        }

        .dark-theme .tooltip .tooltiptext {
            background-color: #333;
            color: #e0e0e0;
        }

        .dark-theme .empty-state {
            color: #9e9e9e;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>QR Code Generator & Scanner</h1>
            <p class="subtitle">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏ —Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ</p>
            <p class="app-description">
                –ú–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR-–∫–æ–¥–æ–≤ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è QR-–∫–æ–¥–æ–≤ –ø—Ä—è–º–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.
                –ù–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏, —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.
            </p>
        </header>

        <div class="tabs">
            <div class="tab active" data-tab="generator">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR</div>
            <div class="tab" data-tab="scanner">–°–∫–∞–Ω–µ—Ä QR</div>
            <div class="tab" data-tab="history">–ò—Å—Ç–æ—Ä–∏—è</div>
            <div class="tab" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
            <div class="tab" data-tab="info">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
        </div>

        <!-- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR-–∫–æ–¥–æ–≤ -->
        <div id="generator" class="tab-content active">
            <div class="card">
                <h2 class="section-title">–°–æ–∑–¥–∞—Ç—å QR-–∫–æ–¥</h2>
                <div class="form-group">
                    <label for="qr-content">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ QR-–∫–æ–¥–∞:</label>
                    <textarea id="qr-content" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç, URL –∏–ª–∏ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ QR-–∫–æ–¥"></textarea>
                </div>

                <div class="options-grid">
                    <div class="option-item">
                        <div class="option-title">–¶–≤–µ—Ç–∞</div>
                        <div class="form-group">
                            <label for="qr-color">–¶–≤–µ—Ç QR-–∫–æ–¥–∞:</label>
                            <div class="color-picker">
                                <input type="color" id="qr-color" value="#000000">
                                <span id="qr-color-value">#000000</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="qr-bg-color">–§–æ–Ω–æ–≤—ã–π —Ü–≤–µ—Ç:</label>
                            <div class="color-picker">
                                <input type="color" id="qr-bg-color" value="#ffffff">
                                <span id="qr-bg-color-value">#FFFFFF</span>
                            </div>
                        </div>
                    </div>

                    <div class="option-item">
                        <div class="option-title">–†–∞–∑–º–µ—Ä –∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏—è</div>
                        <div class="form-group">
                            <label for="qr-size">–†–∞–∑–º–µ—Ä (–ø–∏–∫—Å–µ–ª–µ–π):</label>
                            <input type="number" id="qr-size" min="100" max="1000" value="200">
                        </div>
                        <div class="form-group">
                            <label for="qr-ecc">–ö–æ—Ä—Ä–µ–∫—Ü–∏—è –æ—à–∏–±–æ–∫:</label>
                            <select id="qr-ecc">
                                <option value="L">–ù–∏–∑–∫–∞—è (7%)</option>
                                <option value="M" selected>–°—Ä–µ–¥–Ω—è—è (15%)</option>
                                <option value="Q">–í—ã—Å–æ–∫–∞—è (25%)</option>
                                <option value="H">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (30%)</option>
                            </select>
                        </div>
                    </div>

                    <div class="option-item">
                        <div class="option-title">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                        <div class="switch-container">
                            <label class="switch">
                                <input type="checkbox" id="qr-logo-enabled">
                                <span class="slider"></span>
                            </label>
                            <span class="switch-label">–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø</span>
                        </div>
                        <div class="form-group" id="qr-logo-options" style="display: none;">
                            <label for="qr-logo-url">URL –ª–æ–≥–æ—Ç–∏–ø–∞:</label>
                            <input type="text" id="qr-logo-url" placeholder="https://example.com/logo.png">
                            <label for="qr-logo-size">–†–∞–∑–º–µ—Ä –ª–æ–≥–æ—Ç–∏–ø–∞ (%):</label>
                            <input type="number" id="qr-logo-size" min="5" max="30" value="15">
                        </div>
                    </div>
                </div>

                <div class="btn-group">
                    <button id="generate-btn" class="btn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥</button>
                    <button id="clear-btn" class="btn btn-danger">–û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>
            </div>

            <div class="card">
                <h2 class="section-title">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä QR-–∫–æ–¥–∞</h2>
                <div class="qr-preview-container">
                    <div id="qrcode" style="display: none;"></div>
                    <div id="qr-placeholder" class="qr-preview-placeholder">
                        <p>–í–∞—à QR-–∫–æ–¥ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</p>
                    </div>
                </div>

                <div class="qr-actions">
                    <button id="download-png" class="btn" disabled>–°–∫–∞—á–∞—Ç—å PNG</button>
                    <button id="download-svg" class="btn" disabled>–°–∫–∞—á–∞—Ç—å SVG</button>
                    <button id="save-to-history" class="btn btn-secondary" disabled>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é</button>
                    <button id="copy-qr" class="btn" disabled>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- –°–∫–∞–Ω–µ—Ä QR-–∫–æ–¥–æ–≤ -->
        <div id="scanner" class="tab-content">
            <div class="card">
                <h2 class="section-title">–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥</h2>
                <div class="scanner-instructions">
                    <p>–ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ QR-–∫–æ–¥ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ —Ö–æ—Ä–æ—à–æ –æ—Å–≤–µ—â–µ–Ω –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ä–∞–º–∫—É.</p>
                </div>

                <div class="scanner-container">
                    <video id="scanner-video" playsinline></video>
                    <canvas id="scanner-canvas"></canvas>
                    <div class="scanner-overlay"></div>
                </div>

                <div class="scanner-status" id="scanner-status">–û–∂–∏–¥–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã...</div>

                <div class="btn-group">
                    <button id="start-scanner" class="btn">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫–∞–Ω–µ—Ä</button>
                    <button id="stop-scanner" class="btn btn-danger" disabled>–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∫–∞–Ω–µ—Ä</button>
                    <button id="upload-image" class="btn btn-secondary">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>
                    <input type="file" id="file-input" accept="image/*" style="display: none;">
                </div>
            </div>

            <div class="card">
                <h2 class="section-title">–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
                <div class="scanner-result" id="scanner-result">
                    <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è QR-–∫–æ–¥–∞.</p>
                </div>

                <div class="btn-group">
                    <button id="copy-result" class="btn" disabled>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
                    <button id="clear-result" class="btn btn-danger">–û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- –ò—Å—Ç–æ—Ä–∏—è QR-–∫–æ–¥–æ–≤ -->
        <div id="history" class="tab-content">
            <div class="card">
                <h2 class="section-title">–ò—Å—Ç–æ—Ä–∏—è QR-–∫–æ–¥–æ–≤</h2>
                <div class="form-group">
                    <input type="text" id="history-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏...">
                </div>

                <div id="history-list-container">
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>–î–∞—Ç–∞</th>
                                <th>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ</th>
                                <th>–¢–∏–ø</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="history-list">
                            <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∑–¥–µ—Å—å -->
                        </tbody>
                    </table>
                </div>

                <div id="empty-history" class="empty-state">
                    <div class="empty-state-icon">üì≠</div>
                    <h3>–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</h3>
                    <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ QR-–∫–æ–¥—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.</p>
                </div>

                <div class="btn-group">
                    <button id="clear-history" class="btn btn-danger">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
                    <button id="export-history" class="btn btn-secondary">–≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏</button>
                </div>
            </div>
        </div>

        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <div id="settings" class="tab-content">
            <div class="card">
                <h2 class="section-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
                
                <div class="settings-tabs">
                    <div class="settings-tab active" data-settings-tab="general">–û–±—â–∏–µ</div>
                    <div class="settings-tab" data-settings-tab="generator">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä</div>
                    <div class="settings-tab" data-settings-tab="scanner">–°–∫–∞–Ω–µ—Ä</div>
                    <div class="settings-tab" data-settings-tab="privacy">–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</div>
                </div>

                <div id="general-settings" class="settings-content active">
                    <div class="switch-container">
                        <label class="switch">
                            <input type="checkbox" id="dark-mode">
                            <span class="slider"></span>
                        </label>
                        <span class="switch-label">–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</span>
                    </div>

                    <div class="switch-container">
                        <label class="switch">
                            <input type="checkbox" id="save-history" checked>
                            <span class="slider"></span>
                        </label>
                        <span class="switch-label">–°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é</span>
                    </div>

                    <div class="switch-container">
                        <label class="switch">
                            <input type="checkbox" id="notifications" checked>
                            <span class="slider"></span>
                        </label>
                        <span class="switch-label">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                    </div>

                    <div class="form-group">
                        <label for="history-limit">–õ–∏–º–∏—Ç –∑–∞–ø–∏—Å–µ–π –≤ –∏—Å—Ç–æ—Ä–∏–∏:</label>
                        <div class="range-container">
                            <input type="range" id="history-limit" min="10" max="500" value="100" class="range-input">
                            <span id="history-limit-value" class="range-value">100</span>
                        </div>
                    </div>
                </div>

                <div id="generator-settings" class="settings-content">
                    <div class="switch-container">
                        <label class="switch">
                            <input type="checkbox" id="auto-generate" checked>
                            <span class="slider"></span>
                        </label>
                        <span class="switch-label">–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏</span>
                    </div>

                    <div class="form-group">
                        <label for="default-qr-size">–†–∞–∑–º–µ—Ä QR-–∫–æ–¥–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:</label>
                        <input type="number" id="default-qr-size" min="100" max="1000" value="200">
                    </div>

                    <div class="form-group">
                        <label for="default-ecc">–ö–æ—Ä—Ä–µ–∫—Ü–∏—è –æ—à–∏–±–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:</label>
                        <select id="default-ecc">
                            <option value="L">–ù–∏–∑–∫–∞—è (7%)</option>
                            <option value="M" selected>–°—Ä–µ–¥–Ω—è—è (15%)</option>
                            <option value="Q">–í—ã—Å–æ–∫–∞—è (25%)</option>
                            <option value="H">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (30%)</option>
                        </select>
                    </div>
                </div>

                <div id="scanner-settings" class="settings-content">
                    <div class="switch-container">
                        <label class="switch">
                            <input type="checkbox" id="auto-scan" checked>
                            <span class="slider"></span>
                        </label>
                        <span class="switch-label">–ê–≤—Ç–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</span>
                    </div>

                    <div class="switch-container">
                        <label class="switch">
                            <input type="checkbox" id="beep-on-scan" checked>
                            <span class="slider"></span>
                        </label>
                        <span class="switch-label">–ó–≤—É–∫ –ø—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏</span>
                    </div>

                    <div class="form-group">
                        <label for="camera-resolution">–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã:</label>
                        <select id="camera-resolution">
                            <option value="auto">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ</option>
                            <option value="hd">HD (1280x720)</option>
                            <option value="full-hd">Full HD (1920x1080)</option>
                            <option value="4k">4K (3840x2160)</option>
                        </select>
                    </div>
                </div>

                <div id="privacy-settings" class="settings-content">
                    <div class="switch-container">
                        <label class="switch">
                            <input type="checkbox" id="analytics" checked>
                            <span class="slider"></span>
                        </label>
                        <span class="switch-label">–û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</span>
                    </div>

                    <div class="switch-container">
                        <label class="switch">
                            <input type="checkbox" id="save-to-local" checked>
                            <span class="slider"></span>
                        </label>
                        <span class="switch-label">–°–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ</span>
                    </div>

                    <p class="privacy-notice">
                        –≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –ù–∏–∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –±–µ–∑ –≤–∞—à–µ–≥–æ —Å–æ–≥–ª–∞—Å–∏—è.
                    </p>

                    <div class="btn-group">
                        <button id="clear-all-data" class="btn btn-danger">–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</button>
                        <button id="export-all-data" class="btn btn-secondary">–≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div id="info" class="tab-content">
            <div class="card">
                <h2 class="section-title">–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ QR Code Generator & Scanner</h2>
                <p>
                    –≠—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥—ã –ø—Ä—è–º–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.
                    –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö.
                </p>

                <div class="info-grid">
                    <div class="info-card">
                        <h3 class="info-card-title">
                            <span class="info-card-icon">üîÑ</span>
                            –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
                        </h3>
                        <p>
                            –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR-–∫–æ–¥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É QRCode.js –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤–∞—à–µ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ URL –≤ QR-–∫–æ–¥.
                            –°–∫–∞–Ω–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç jsQR –¥–ª—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è QR-–∫–æ–¥–æ–≤ —Å –∫–∞–º–µ—Ä—ã –∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
                        </p>
                    </div>

                    <div class="info-card">
                        <h3 class="info-card-title">
                            <span class="info-card-icon">üîí</span>
                            –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å
                        </h3>
                        <p>
                            –í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ. –ù–∏–∫–∞–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ã.
                            –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–µ–∑ –æ–ø–∞—Å–µ–Ω–∏–π –∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö.
                        </p>
                    </div>

                    <div class="info-card">
                        <h3 class="info-card-title">
                            <span class="info-card-icon">üí°</span>
                            –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
                        </h3>
                        <ul>
                            <li>–î–ª—è URL –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å (—Å https://)</li>
                            <li>–ß–µ–º –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö, —Ç–µ–º —Å–ª–æ–∂–Ω–µ–µ QR-–∫–æ–¥</li>
                            <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã—Å–æ–∫—É—é –∫–æ—Ä—Ä–µ–∫—Ü–∏—é –æ—à–∏–±–æ–∫ –¥–ª—è –ø–µ—á–∞—Ç–∏</li>
                            <li>–î–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±–µ—Å–ø–µ—á—å—Ç–µ —Ö–æ—Ä–æ—à–µ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3 class="info-card-title">
                            <span class="info-card-icon">‚ÑπÔ∏è</span>
                            –û QR-–∫–æ–¥–∞—Ö
                        </h3>
                        <p>
                            QR-–∫–æ–¥ (Quick Response Code) ‚Äî —ç—Ç–æ –º–∞—Ç—Ä–∏—á–Ω—ã–π –∫–æ–¥, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –≤ 1994 –≥–æ–¥—É —è–ø–æ–Ω—Å–∫–æ–π –∫–æ–º–ø–∞–Ω–∏–µ–π Denso Wave.
                            –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–æ 4296 —Å–∏–º–≤–æ–ª–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö.
                        </p>
                    </div>
                </div>

                <div class="divider"></div>

                <h3 class="section-title">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                <p>
                    <strong>–í–µ—Ä—Å–∏—è:</strong> 1.4.8.7<br>
                    <strong>–ü–æ–¥–¥–µ—Ä–∂–∫–∞:</strong> –í—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã
                </p>
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div id="notification" class="notification">
            <div id="notification-message">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="modal-title">–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ</h3>
                    <span class="close-modal">&times;</span>
                </div>
                <div class="modal-body" id="modal-body">
                    –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
                </div>
                <div class="modal-footer">
                    <button id="modal-cancel" class="btn btn-danger">–û—Ç–º–µ–Ω–∞</button>
                    <button id="modal-confirm" class="btn">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>–ü–∏—Ö—Ç–∞ &copy; 2025 | –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</p>
        <p>–†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ | –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞</p>
    </footer>

    <script>
        // –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            const settingsTabs = document.querySelectorAll('.settings-tab');
            const settingsContents = document.querySelectorAll('.settings-content');
            const generateBtn = document.getElementById('generate-btn');
            const clearBtn = document.getElementById('clear-btn');
            const qrContent = document.getElementById('qr-content');
            const qrColor = document.getElementById('qr-color');
            const qrBgColor = document.getElementById('qr-bg-color');
            const qrSize = document.getElementById('qr-size');
            const qrEcc = document.getElementById('qr-ecc');
            const qrLogoEnabled = document.getElementById('qr-logo-enabled');
            const qrLogoOptions = document.getElementById('qr-logo-options');
            const qrLogoUrl = document.getElementById('qr-logo-url');
            const qrLogoSizer = document.getElementById('qr-logo-size');
            const qrcodeDiv = document.getElementById('qrcode');
            const qrPlaceholder = document.getElementById('qr-placeholder');
            const downloadPng = document.getElementById('download-png');
            const downloadSvg = document.getElementById('download-svg');
            const saveToHistory = document.getElementById('save-to-history');
            const copyQr = document.getElementById('copy-qr');
            const startScanner = document.getElementById('start-scanner');
            const stopScanner = document.getElementById('stop-scanner');
            const uploadImage = document.getElementById('upload-image');
            const fileInput = document.getElementById('file-input');
            const scannerVideo = document.getElementById('scanner-video');
            const scannerCanvas = document.getElementById('scanner-canvas');
            const scannerResult = document.getElementById('scanner-result');
            const copyResult = document.getElementById('copy-result');
            const clearResult = document.getElementById('clear-result');
            const scannerStatus = document.getElementById('scanner-status');
            const historySearch = document.getElementById('history-search');
            const historyList = document.getElementById('history-list');
            const emptyHistory = document.getElementById('empty-history');
            const clearHistory = document.getElementById('clear-history');
            const exportHistory = document.getElementById('export-history');
            const darkMode = document.getElementById('dark-mode');
            const saveHistory = document.getElementById('save-history');
            const notifications = document.getElementById('notifications');
            const historyLimit = document.getElementById('history-limit');
            const historyLimitValue = document.getElementById('history-limit-value');
            const autoGenerate = document.getElementById('auto-generate');
            const defaultQrSize = document.getElementById('default-qr-size');
            const defaultEcc = document.getElementById('default-ecc');
            const autoScan = document.getElementById('auto-scan');
            const beepOnScan = document.getElementById('beep-on-scan');
            const cameraResolution = document.getElementById('camera-resolution');
            const analytics = document.getElementById('analytics');
            const saveToLocal = document.getElementById('save-to-local');
            const clearAllData = document.getElementById('clear-all-data');
            const exportAllData = document.getElementById('export-all-data');
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            const modalCancel = document.getElementById('modal-cancel');
            const modalConfirm = document.getElementById('modal-confirm');
            const closeModal = document.querySelector('.close-modal');
            const notification = document.getElementById('notification');
            const notificationMessage = document.getElementById('notification-message');

            // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
            let qrCode = null;
            let scannerInterval = null;
            let scannerStream = null;
            let history = [];
            let settings = {
                darkMode: false,
                saveHistory: true,
                notifications: true,
                historyLimit: 100,
                autoGenerate: true,
                defaultQrSize: 200,
                defaultEcc: 'M',
                autoScan: true,
                beepOnScan: true,
                cameraResolution: 'auto',
                analytics: true,
                saveToLocal: true
            };

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            function initApp() {
                loadSettings();
                setupEventListeners();
                updateUI();
                checkHistory();
            }

            // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ localStorage
            function loadSettings() {
                const savedSettings = localStorage.getItem('qrAppSettings');
                if (savedSettings) {
                    settings = JSON.parse(savedSettings);
                    applySettings();
                }
            }

            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
            function applySettings() {
                // –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                darkMode.checked = settings.darkMode;
                saveHistory.checked = settings.saveHistory;
                notifications.checked = settings.notifications;
                historyLimit.value = settings.historyLimit;
                historyLimitValue.textContent = settings.historyLimit;

                // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
                autoGenerate.checked = settings.autoGenerate;
                defaultQrSize.value = settings.defaultQrSize;
                qrSize.value = settings.defaultQrSize;
                defaultEcc.value = settings.defaultEcc;
                qrEcc.value = settings.defaultEcc;

                // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫–∞–Ω–µ—Ä–∞
                autoScan.checked = settings.autoScan;
                beepOnScan.checked = settings.beepOnScan;
                cameraResolution.value = settings.cameraResolution;

                // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
                analytics.checked = settings.analytics;
                saveToLocal.checked = settings.saveToLocal;

                // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã
                toggleDarkTheme(settings.darkMode);
            }

            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ localStorage
            function saveSettings() {
                localStorage.setItem('qrAppSettings', JSON.stringify(settings));
                showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã', 'success');
            }

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
            function toggleDarkTheme(enable) {
                if (enable) {
                    document.body.classList.add('dark-theme');
                } else {
                    document.body.classList.remove('dark-theme');
                }
            }

            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
            function setupEventListeners() {
                // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        tabs.forEach(t => t.classList.remove('active'));
                        tabContents.forEach(c => c.classList.remove('active'));
                        tab.classList.add('active');
                        document.getElementById(tab.dataset.tab).classList.add('active');
                    });
                });

                // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫
                settingsTabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        settingsTabs.forEach(t => t.classList.remove('active'));
                        settingsContents.forEach(c => c.classList.remove('active'));
                        tab.classList.add('active');
                        document.getElementById(`${tab.dataset.settingsTab}-settings`).classList.add('active');
                    });
                });

                // –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR-–∫–æ–¥–æ–≤
                generateBtn.addEventListener('click', generateQRCode);
                clearBtn.addEventListener('click', clearGenerator);
                qrContent.addEventListener('input', handleContentInput);
                qrColor.addEventListener('input', updateColorValue);
                qrBgColor.addEventListener('input', updateBgColorValue);
                qrSize.addEventListener('input', updateQrSize);
                qrEcc.addEventListener('change', updateQrEcc);
                qrLogoEnabled.addEventListener('change', toggleLogoOptions);
                qrLogoUrl.addEventListener('input', updateLogoUrl);
                qrLogoSizer.addEventListener('input', updateLogoSize);
                downloadPng.addEventListener('click', downloadQRAsPNG);
                downloadSvg.addEventListener('click', downloadQRAsSVG);
                saveToHistory.addEventListener('click', saveQRToHistory);
                copyQr.addEventListener('click', copyQRToClipboard);

                // –°–∫–∞–Ω–µ—Ä QR-–∫–æ–¥–æ–≤
                startScanner.addEventListener('click', startQRScanner);
                stopScanner.addEventListener('click', stopQRScanner);
                uploadImage.addEventListener('click', () => fileInput.click());
                fileInput.addEventListener('change', handleFileUpload);
                copyResult.addEventListener('click', copyResultToClipboard);
                clearResult.addEventListener('click', clearScannerResult);

                // –ò—Å—Ç–æ—Ä–∏—è
                historySearch.addEventListener('input', searchHistory);
                clearHistory.addEventListener('click', confirmClearHistory);
                exportHistory.addEventListener('click', exportHistoryData);

                // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                darkMode.addEventListener('change', toggleDarkMode);
                saveHistory.addEventListener('change', toggleSaveHistory);
                notifications.addEventListener('change', toggleNotifications);
                historyLimit.addEventListener('input', updateHistoryLimit);
                autoGenerate.addEventListener('change', toggleAutoGenerate);
                defaultQrSize.addEventListener('change', updateDefaultQrSize);
                defaultEcc.addEventListener('change', updateDefaultEcc);
                autoScan.addEventListener('change', toggleAutoScan);
                beepOnScan.addEventListener('change', toggleBeepOnScan);
                cameraResolution.addEventListener('change', updateCameraResolution);
                analytics.addEventListener('change', toggleAnalytics);
                saveToLocal.addEventListener('change', toggleSaveToLocal);
                clearAllData.addEventListener('click', confirmClearAllData);
                exportAllData.addEventListener('click', exportAllAppData);

                // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                modalCancel.addEventListener('click', closeModalWindow);
                modalConfirm.addEventListener('click', confirmModalAction);
                closeModal.addEventListener('click', closeModalWindow);
                window.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModalWindow();
                    }
                });
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            function updateUI() {
                updateColorValue();
                updateBgColorValue();
                toggleLogoOptions();
            }

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞
            function generateQRCode() {
                const content = qrContent.value.trim();
                if (!content) {
                    showNotification('–í–≤–µ–¥–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è QR-–∫–æ–¥–∞', 'error');
                    return;
                }

                const color = qrColor.value;
                const bgColor = qrBgColor.value;
                const size = parseInt(qrSize.value);
                const ecc = qrEcc.value;

                qrcodeDiv.innerHTML = '';
                qrPlaceholder.style.display = 'none';
                qrcodeDiv.style.display = 'block';

                qrCode = new QRCode(qrcodeDiv, {
                    text: content,
                    width: size,
                    height: size,
                    colorDark: color,
                    colorLight: bgColor,
                    correctLevel: QRCode.CorrectLevel[ecc]
                });

                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–∞, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ
                if (qrLogoEnabled.checked && qrLogoUrl.value.trim()) {
                    setTimeout(() => {
                        addLogoToQR(qrLogoUrl.value.trim(), parseInt(qrLogoSizer.value));
                    }, 100);
                }

                // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫
                downloadPng.disabled = false;
                downloadSvg.disabled = false;
                saveToHistory.disabled = false;
                copyQr.disabled = false;

                showNotification('QR-–∫–æ–¥ —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω', 'success');
            }

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–∞ –∫ QR-–∫–æ–¥—É
            function addLogoToQR(logoUrl, sizePercent) {
                const canvas = qrcodeDiv.querySelector('canvas');
                if (!canvas) return;

                const img = new Image();
                img.crossOrigin = 'Anonymous';
                img.onload = function() {
                    const ctx = canvas.getContext('2d');
                    const qrSize = canvas.width;
                    const logoSize = qrSize * (sizePercent / 100);
                    const logoPos = (qrSize - logoSize) / 2;

                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ QR-–∫–æ–¥–∞
                    const imageData = ctx.getImageData(0, 0, qrSize, qrSize);

                    // –†–∏—Å—É–µ–º –ª–æ–≥–æ—Ç–∏–ø
                    ctx.fillStyle = qrBgColor.value;
                    ctx.fillRect(logoPos - 5, logoPos - 5, logoSize + 10, logoSize + 10);
                    ctx.drawImage(img, logoPos, logoPos, logoSize, logoSize);

                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ QR-–∫–æ–¥–∞ –≤–æ–∫—Ä—É–≥ –ª–æ–≥–æ—Ç–∏–ø–∞
                    for (let y = 0; y < qrSize; y++) {
                        for (let x = 0; x < qrSize; x++) {
                            // –ï—Å–ª–∏ –ø–∏–∫—Å–µ–ª—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –æ–±–ª–∞—Å—Ç–∏ –ª–æ–≥–æ—Ç–∏–ø–∞, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
                            if (x >= logoPos - 10 && x <= logoPos + logoSize + 10 &&
                                y >= logoPos - 10 && y <= logoPos + logoSize + 10) {
                                continue;
                            }
                            
                            const idx = (y * qrSize + x) * 4;
                            ctx.fillStyle = `rgba(${imageData.data[idx]}, ${imageData.data[idx+1]}, ${imageData.data[idx+2]}, ${imageData.data[idx+3]/255})`;
                            ctx.fillRect(x, y, 1, 1);
                        }
                    }
                };
                img.onerror = function() {
                    showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–≥–æ—Ç–∏–ø–∞', 'error');
                };
                img.src = logoUrl;
            }

            // –û—á–∏—Å—Ç–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
            function clearGenerator() {
                qrContent.value = '';
                qrColor.value = '#000000';
                qrBgColor.value = '#ffffff';
                qrSize.value = settings.defaultQrSize;
                qrEcc.value = settings.defaultEcc;
                qrLogoEnabled.checked = false;
                qrLogoUrl.value = '';
                qrLogoSizer.value = '15';
                qrcodeDiv.innerHTML = '';
                qrcodeDiv.style.display = 'none';
                qrPlaceholder.style.display = 'block';
                downloadPng.disabled = true;
                downloadSvg.disabled = true;
                saveToHistory.disabled = true;
                copyQr.disabled = true;
                toggleLogoOptions();
                updateColorValue();
                updateBgColorValue();
            }

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
            function handleContentInput() {
                if (settings.autoGenerate && qrContent.value.trim()) {
                    generateQRCode();
                }
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ü–≤–µ—Ç–∞
            function updateColorValue() {
                document.getElementById('qr-color-value').textContent = qrColor.value.toUpperCase();
                if (qrCode && qrContent.value.trim()) {
                    generateQRCode();
                }
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–æ–Ω–æ–≤–æ–≥–æ —Ü–≤–µ—Ç–∞
            function updateBgColorValue() {
                document.getElementById('qr-bg-color-value').textContent = qrBgColor.value.toUpperCase();
                if (qrCode && qrContent.value.trim()) {
                    generateQRCode();
                }
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ QR-–∫–æ–¥–∞
            function updateQrSize() {
                if (qrCode && qrContent.value.trim()) {
                    generateQRCode();
                }
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—à–∏–±–æ–∫
            function updateQrEcc() {
                if (qrCode && qrContent.value.trim()) {
                    generateQRCode();
                }
            }

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –æ–ø—Ü–∏–π –ª–æ–≥–æ—Ç–∏–ø–∞
            function toggleLogoOptions() {
                qrLogoOptions.style.display = qrLogoEnabled.checked ? 'block' : 'none';
                if (qrCode && qrLogoEnabled.checked && qrLogoUrl.value.trim() && qrContent.value.trim()) {
                    generateQRCode();
                }
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ URL –ª–æ–≥–æ—Ç–∏–ø–∞
            function updateLogoUrl() {
                if (qrCode && qrLogoEnabled.checked && qrContent.value.trim()) {
                    generateQRCode();
                }
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ª–æ–≥–æ—Ç–∏–ø–∞
            function updateLogoSize() {
                if (qrCode && qrLogoEnabled.checked && qrLogoUrl.value.trim() && qrContent.value.trim()) {
                    generateQRCode();
                }
            }

            // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ QR-–∫–æ–¥–∞ –∫–∞–∫ PNG
            function downloadQRAsPNG() {
                if (!qrCode) return;

                const canvas = qrcodeDiv.querySelector('canvas');
                if (!canvas) return;

                const link = document.createElement('a');
                link.download = 'qr-code.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            }

            // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ QR-–∫–æ–¥–∞ –∫–∞–∫ SVG
            function downloadQRAsSVG() {
                if (!qrCode) return;

                const content = qrContent.value.trim();
                const color = qrColor.value.substring(1); // –£–±–∏—Ä–∞–µ–º #
                const bgColor = qrBgColor.value.substring(1);
                const size = parseInt(qrSize.value);
                const ecc = qrEcc.value;

                // –ü—Ä–æ—Å—Ç–∞—è SVG —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è QR-–∫–æ–¥–∞ (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∫–æ–¥–æ–≤)
                let svg = `<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="${size}" height="${size}" viewBox="0 0 ${size} ${size}">`;
                svg += `<rect width="${size}" height="${size}" fill="#${bgColor}"/>`;
                
                // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è QR-–∫–æ–¥–∞ –≤ SVG
                // –≠—Ç–æ —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è, –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É
                svg += `<text x="50%" y="50%" fill="#${color}" text-anchor="middle">QR Code SVG</text>`;
                svg += `</svg>`;

                const blob = new Blob([svg], {type: 'image/svg+xml'});
                const link = document.createElement('a');
                link.download = 'qr-code.svg';
                link.href = URL.createObjectURL(blob);
                link.click();
            }

            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ QR-–∫–æ–¥–∞ –≤ –∏—Å—Ç–æ—Ä–∏—é
            function saveQRToHistory() {
                if (!qrCode || !qrContent.value.trim()) return;

                const content = qrContent.value.trim();
                const type = detectContentType(content);
                const date = new Date().toISOString();
                const id = Date.now().toString();
                const item = {
                    id,
                    type,
                    content,
                    date,
                    isGenerated: true,
                    settings: {
                        color: qrColor.value,
                        bgColor: qrBgColor.value,
                        size: parseInt(qrSize.value),
                        ecc: qrEcc.value,
                        logo: qrLogoEnabled.checked ? qrLogoUrl.value : null,
                        logoSize: qrLogoEnabled.checked ? parseInt(qrLogoSizer.value) : null
                    }
                };

                addToHistory(item);
                showNotification('QR-–∫–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –∏—Å—Ç–æ—Ä–∏—é', 'success');
            }

            // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
            function copyQRToClipboard() {
                if (!qrCode) return;

                const canvas = qrcodeDiv.querySelector('canvas');
                if (!canvas) return;

                canvas.toBlob(blob => {
                    navigator.clipboard.write([
                        new ClipboardItem({
                            [blob.type]: blob
                        })
                    ]).then(() => {
                        showNotification('QR-–∫–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞', 'success');
                    }).catch(err => {
                        showNotification('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è QR-–∫–æ–¥–∞', 'error');
                        console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
                    });
                });
            }

            // –ó–∞–ø—É—Å–∫ —Å–∫–∞–Ω–µ—Ä–∞ QR-–∫–æ–¥–æ–≤
            function startQRScanner() {
                if (scannerStream) {
                    stopQRScanner();
                }

                navigator.mediaDevices.getUserMedia({
                    video: {
                        facingMode: 'environment',
                        width: getCameraResolution().width,
                        height: getCameraResolution().height
                    },
                    audio: false
                }).then(stream => {
                    scannerStream = stream;
                    scannerVideo.srcObject = stream;
                    scannerVideo.play();
                    startScanner.disabled = true;
                    stopScanner.disabled = false;
                    scannerStatus.textContent = '–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ...';

                    if (settings.autoScan) {
                        scannerInterval = setInterval(scanQRCode, 500);
                    }
                }).catch(err => {
                    console.error('–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ:', err);
                    scannerStatus.textContent = '–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ';
                    showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ', 'error');
                });
            }

            // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫–∞–Ω–µ—Ä–∞ QR-–∫–æ–¥–æ–≤
            function stopQRScanner() {
                if (scannerInterval) {
                    clearInterval(scannerInterval);
                    scannerInterval = null;
                }

                if (scannerStream) {
                    scannerStream.getTracks().forEach(track => track.stop());
                    scannerStream = null;
                    scannerVideo.srcObject = null;
                }

                startScanner.disabled = false;
                stopScanner.disabled = true;
                scannerStatus.textContent = '–°–∫–∞–Ω–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω';
            }

            // –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–∞
            function scanQRCode() {
                if (scannerVideo.readyState === scannerVideo.HAVE_ENOUGH_DATA) {
                    scannerCanvas.width = scannerVideo.videoWidth;
                    scannerCanvas.height = scannerVideo.videoHeight;
                    const ctx = scannerCanvas.getContext('2d');
                    ctx.drawImage(scannerVideo, 0, 0, scannerCanvas.width, scannerCanvas.height);
                    
                    const imageData = ctx.getImageData(0, 0, scannerCanvas.width, scannerCanvas.height);
                    const code = jsQR(imageData.data, imageData.width, imageData.height, {
                        inversionAttempts: 'dontInvert'
                    });

                    if (code) {
                        handleScanResult(code.data);
                    }
                }
            }

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            function handleScanResult(result) {
                scannerResult.innerHTML = `<p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</strong></p><p>${result}</p>`;
                copyResult.disabled = false;

                if (settings.beepOnScan) {
                    playBeep();
                }

                if (settings.saveHistory) {
                    const type = detectContentType(result);
                    const date = new Date().toISOString();
                    const id = Date.now().toString();
                    const item = {
                        id,
                        type,
                        content: result,
                        date,
                        isGenerated: false
                    };
                    addToHistory(item);
                }

                if (!settings.autoScan) {
                    stopQRScanner();
                }

                showNotification('QR-–∫–æ–¥ —É—Å–ø–µ—à–Ω–æ –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω', 'success');
            }

            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞
            function playBeep() {
                const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                
                oscillator.type = 'sine';
                oscillator.frequency.value = 1000;
                gainNode.gain.value = 0.1;
                
                oscillator.start();
                gainNode.gain.exponentialRampToValueAtTime(0.00001, audioCtx.currentTime + 0.5);
                oscillator.stop(audioCtx.currentTime + 0.5);
            }

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            function handleFileUpload(event) {
                const file = event.target.files[0];
                if (!file) return;

                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = new Image();
                    img.onload = function() {
                        scannerCanvas.width = img.width;
                        scannerCanvas.height = img.height;
                        const ctx = scannerCanvas.getContext('2d');
                        ctx.drawImage(img, 0, 0);
                        
                        const imageData = ctx.getImageData(0, 0, scannerCanvas.width, scannerCanvas.height);
                        const code = jsQR(imageData.data, imageData.width, imageData.height, {
                            inversionAttempts: 'dontInvert'
                        });

                        if (code) {
                            handleScanResult(code.data);
                        } else {
                            scannerResult.innerHTML = '<p>QR-–∫–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏</p>';
                            copyResult.disabled = true;
                            showNotification('QR-–∫–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
                        }
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
                fileInput.value = '';
            }

            // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            function copyResultToClipboard() {
                const text = scannerResult.textContent.replace('–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:', '').trim();
                navigator.clipboard.writeText(text).then(() => {
                    showNotification('–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞', 'success');
                }).catch(err => {
                    showNotification('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞', 'error');
                    console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
                });
            }

            // –û—á–∏—Å—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            function clearScannerResult() {
                scannerResult.innerHTML = '<p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è QR-–∫–æ–¥–∞.</p>';
                copyResult.disabled = true;
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
            function checkHistory() {
                const savedHistory = localStorage.getItem('qrHistory');
                if (savedHistory) {
                    history = JSON.parse(savedHistory);
                    renderHistory();
                }
            }

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
            function addToHistory(item) {
                if (!settings.saveHistory) return;

                history.unshift(item);
                
                // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º
                if (history.length > settings.historyLimit) {
                    history = history.slice(0, settings.historyLimit);
                }

                localStorage.setItem('qrHistory', JSON.stringify(history));
                renderHistory();
            }

            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
            function renderHistory() {
                if (history.length === 0) {
                    emptyHistory.style.display = 'block';
                    historyList.innerHTML = '';
                    return;
                }

                emptyHistory.style.display = 'none';
                historyList.innerHTML = '';

                history.forEach(item => {
                    const tr = document.createElement('tr');
                    tr.className = 'history-item';
                    
                    const dateTd = document.createElement('td');
                    dateTd.textContent = new Date(item.date).toLocaleString();
                    
                    const contentTd = document.createElement('td');
                    contentTd.className = 'history-content';
                    contentTd.textContent = item.content.length > 100 ? item.content.substring(0, 100) + '...' : item.content;
                    
                    const typeTd = document.createElement('td');
                    const typeBadge = document.createElement('span');
                    typeBadge.className = 'badge ' + (item.isGenerated ? 'secondary' : 'accent');
                    typeBadge.textContent = item.isGenerated ? '–°–æ–∑–¥–∞–Ω' : '–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω';
                    typeTd.appendChild(typeBadge);
                    
                    const actionsTd = document.createElement('td');
                    actionsTd.className = 'table-actions';
                    
                    const viewBtn = document.createElement('button');
                    viewBtn.className = 'history-btn';
                    viewBtn.textContent = '–ü—Ä–æ—Å–º–æ—Ç—Ä';
                    viewBtn.addEventListener('click', () => viewHistoryItem(item));
                    
                    const deleteBtn = document.createElement('button');
                    deleteBtn.className = 'history-btn';
                    deleteBtn.textContent = '–£–¥–∞–ª–∏—Ç—å';
                    deleteBtn.addEventListener('click', () => deleteHistoryItem(item.id));
                    
                    actionsTd.appendChild(viewBtn);
                    actionsTd.appendChild(deleteBtn);
                    
                    tr.appendChild(dateTd);
                    tr.appendChild(contentTd);
                    tr.appendChild(typeTd);
                    tr.appendChild(actionsTd);
                    
                    historyList.appendChild(tr);
                });
            }

            // –ü–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏
            function searchHistory() {
                const query = historySearch.value.toLowerCase();
                const rows = historyList.querySelectorAll('tr');
                
                rows.forEach(row => {
                    const content = row.querySelector('.history-content').textContent.toLowerCase();
                    row.style.display = content.includes(query) ? '' : 'none';
                });
            }

            // –ü—Ä–æ—Å–º–æ—Ç—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –∏—Å—Ç–æ—Ä–∏–∏
            function viewHistoryItem(item) {
                if (item.isGenerated) {
                    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
                    document.querySelector('.tab[data-tab="generator"]').click();
                    
                    // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π
                    qrContent.value = item.content;
                    qrColor.value = item.settings.color;
                    qrBgColor.value = item.settings.bgColor;
                    qrSize.value = item.settings.size;
                    qrEcc.value = item.settings.ecc;
                    qrLogoEnabled.checked = !!item.settings.logo;
                    if (item.settings.logo) {
                        qrLogoUrl.value = item.settings.logo;
                        qrLogoSizer.value = item.settings.logoSize;
                    }
                    toggleLogoOptions();
                    updateColorValue();
                    updateBgColorValue();
                    
                    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞
                    generateQRCode();
                } else {
                    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É —Å–∫–∞–Ω–µ—Ä–∞
                    document.querySelector('.tab[data-tab="scanner"]').click();
                    
                    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                    scannerResult.innerHTML = `<p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</strong></p><p>${item.content}</p>`;
                    copyResult.disabled = false;
                }
            }

            // –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏—Å—Ç–æ—Ä–∏–∏
            function deleteHistoryItem(id) {
                showModal(
                    '–£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏',
                    '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏?',
                    () => {
                        history = history.filter(item => item.id !== id);
                        localStorage.setItem('qrHistory', JSON.stringify(history));
                        renderHistory();
                        showNotification('–≠–ª–µ–º–µ–Ω—Ç —É–¥–∞–ª–µ–Ω –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏', 'success');
                    }
                );
            }

            // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—á–∏—Å—Ç–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏
            function confirmClearHistory() {
                if (history.length === 0) return;
                
                showModal(
                    '–û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏',
                    '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.',
                    () => {
                        history = [];
                        localStorage.removeItem('qrHistory');
                        renderHistory();
                        showNotification('–ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞', 'success');
                    }
                );
            }

            // –≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏
            function exportHistoryData() {
                if (history.length === 0) {
                    showNotification('–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞, –Ω–µ—á–µ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å', 'warning');
                    return;
                }

                const data = {
                    app: 'QR Code Generator & Scanner',
                    version: '1.0.0',
                    exportedAt: new Date().toISOString(),
                    items: history
                };

                const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
                const link = document.createElement('a');
                link.download = `qr-history-${new Date().toISOString().slice(0, 10)}.json`;
                link.href = URL.createObjectURL(blob);
                link.click();
                showNotification('–ò—Å—Ç–æ—Ä–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞', 'success');
            }

            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
            function detectContentType(content) {
                if (content.startsWith('http://') || content.startsWith('https://')) {
                    return 'URL';
                } else if (content.startsWith('tel:')) {
                    return '–¢–µ–ª–µ—Ñ–æ–Ω';
                } else if (content.startsWith('mailto:')) {
                    return 'Email';
                } else if (content.startsWith('BEGIN:VCARD')) {
                    return '–ö–æ–Ω—Ç–∞–∫—Ç (vCard)';
                } else if (content.match(/^\d+$/)) {
                    return '–ß–∏—Å–ª–æ';
                } else if (content.match(/^[A-Za-z0-9]+$/)) {
                    return '–¢–µ–∫—Å—Ç';
                } else {
                    return '–¢–µ–∫—Å—Ç';
                }
            }

            // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã
            function getCameraResolution() {
                switch (settings.cameraResolution) {
                    case 'hd': return {width: 1280, height: 720};
                    case 'full-hd': return {width: 1920, height: 1080};
                    case '4k': return {width: 3840, height: 2160};
                    default: return {width: 0, height: 0}; // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ
                }
            }

            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
            function toggleDarkMode() {
                settings.darkMode = darkMode.checked;
                toggleDarkTheme(settings.darkMode);
                saveSettings();
            }

            function toggleSaveHistory() {
                settings.saveHistory = saveHistory.checked;
                saveSettings();
            }

            function toggleNotifications() {
                settings.notifications = notifications.checked;
                saveSettings();
            }

            function updateHistoryLimit() {
                settings.historyLimit = parseInt(historyLimit.value);
                historyLimitValue.textContent = settings.historyLimit;
                
                // –û–±—Ä–µ–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏, –µ—Å–ª–∏ –Ω–æ–≤—ã–π –ª–∏–º–∏—Ç –º–µ–Ω—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
                if (history.length > settings.historyLimit) {
                    history = history.slice(0, settings.historyLimit);
                    localStorage.setItem('qrHistory', JSON.stringify(history));
                    renderHistory();
                }
                
                saveSettings();
            }

            function toggleAutoGenerate() {
                settings.autoGenerate = autoGenerate.checked;
                saveSettings();
            }

            function updateDefaultQrSize() {
                settings.defaultQrSize = parseInt(defaultQrSize.value);
                qrSize.value = settings.defaultQrSize;
                saveSettings();
            }

            function updateDefaultEcc() {
                settings.defaultEcc = defaultEcc.value;
                qrEcc.value = settings.defaultEcc;
                saveSettings();
            }

            function toggleAutoScan() {
                settings.autoScan = autoScan.checked;
                saveSettings();
            }

            function toggleBeepOnScan() {
                settings.beepOnScan = beepOnScan.checked;
                saveSettings();
            }

            function updateCameraResolution() {
                settings.cameraResolution = cameraResolution.value;
                saveSettings();
            }

            function toggleAnalytics() {
                settings.analytics = analytics.checked;
                saveSettings();
            }

            function toggleSaveToLocal() {
                settings.saveToLocal = saveToLocal.checked;
                saveSettings();
            }

            // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
            function confirmClearAllData() {
                showModal(
                    '–£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö',
                    '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –í–°–ï –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏—Å—Ç–æ—Ä–∏—é? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.',
                    () => {
                        localStorage.clear();
                        history = [];
                        settings = {
                            darkMode: false,
                            saveHistory: true,
                            notifications: true,
                            historyLimit: 100,
                            autoGenerate: true,
                            defaultQrSize: 200,
                            defaultEcc: 'M',
                            autoScan: true,
                            beepOnScan: true,
                            cameraResolution: 'auto',
                            analytics: true,
                            saveToLocal: true
                        };
                        applySettings();
                        renderHistory();
                        clearGenerator();
                        clearScannerResult();
                        showNotification('–í—Å–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã', 'success');
                    }
                );
            }

            // –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            function exportAllAppData() {
                const data = {
                    app: 'QR Code Generator & Scanner',
                    version: '1.0.0',
                    exportedAt: new Date().toISOString(),
                    settings: settings,
                    history: history
                };

                const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
                const link = document.createElement('a');
                link.download = `qr-app-data-${new Date().toISOString().slice(0, 10)}.json`;
                link.href = URL.createObjectURL(blob);
                link.click();
                showNotification('–í—Å–µ –¥–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã', 'success');
            }

            // –ü–æ–∫–∞–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            function showModal(title, body, confirmCallback) {
                modalTitle.textContent = title;
                modalBody.innerHTML = `<p>${body}</p>`;
                modal.style.display = 'block';
                
                modalConfirm.onclick = function() {
                    closeModalWindow();
                    if (confirmCallback) confirmCallback();
                };
            }

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            function closeModalWindow() {
                modal.style.display = 'none';
            }

            // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
            function confirmModalAction() {
                closeModalWindow();
            }

            // –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            function showNotification(message, type = 'info') {
                if (!settings.notifications) return;
                
                notification.className = 'notification';
                notification.classList.add(type);
                notificationMessage.textContent = message;
                
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            initApp();
        });
    </script>
</body>
</html>
